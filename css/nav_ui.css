/* =========================================================
   nav_ui.css
   只管：导航栏布局（三段式）、菜单图标尺寸、右侧工具区、搜索按钮修复
   不要在这里写文章页/目录风车/正文装饰
   ========================================================= */

/* ============ 1) 三段式导航布局（桌面端） ============ */
@media screen and (min-width: 900px) {
    #nav {
      display: flex;
      align-items: center;
    }

    /* 左：标题区 */
    #nav #blog-info {
      display: flex;
      align-items: center;
      flex: 0 0 auto;
      margin-right: 12px;
      min-width: 0;
    }

    /* 中：菜单 + 右侧工具的容器 */
    #nav #menus {
      display: flex;
      align-items: center;
      flex: 1 1 auto;
      min-width: 0;
      width: 100%;
    }

    /* 中：主题生成的菜单项容器（menu_item.pug 生成 .menus_items） */
    #nav #menus .menus_items {
      display: flex !important;
      align-items: center;
      justify-content: center; /* 中间菜单居中 */
      flex: 1 1 auto;
      min-width: 0;
    }

    /* 右：工具区靠右 */
    #nav #menus .nav-right-tools {
      display: inline-flex;
      align-items: center;
      gap: 14px;
      flex: 0 0 auto;
      margin-left: 14px;
      white-space: nowrap;
    }

    /* 桌面端隐藏汉堡（可选：如果你想保留就删掉这段） */
    #nav #toggle-menu {
      display: none !important;
    }
}

/* ============ 2) 移动端：不强改（避免破坏主题原行为） ============ */
@media screen and (max-width: 899px) {
    /* 右侧工具区显示 */
    #nav #menus .nav-right-tools {
      display: inline-flex;
      align-items: center;
      justify-content: flex-end;
      gap: .6rem;
      flex: 0 0 auto;
    }

    /* 显示汉堡菜单按钮（移动端） */
    #toggle-menu {
      display: block;
    }

    /* 让右侧图标大小一致 */
    #nav #menus .nav-right-tools svg.menu-svg-icon {
      width: 1.25em;
      height: 1.25em;
      vertical-align: -0.15em;
    }

    /* 5) 修复：搜索按钮在移动端显示 */
    #nav #search-button,
    #nav #search-button .site-page.social-icon.search {
      display: inline-flex !important;
      align-items: center;
      width: auto !important;
      height: auto !important;
      padding: 0 !important;
      margin: 0 !important;
      background: none !important;
      box-shadow: none !important;
    }

    /* 关闭搜索按钮的伪元素 */
    #nav #search-button::before,
    #nav #search-button::after,
    #nav #search-button a.search::before,
    #nav #search-button a.search::after,
    #nav #search-button .search::before,
    #nav #search-button .search::after {
      content: none !important;
      display: none !important;
    }

    /* 移动端搜索按钮的 svg 尺寸 */
    #nav #search-button svg.menu-svg-icon {
      width: 1.25em !important;
      height: 1.25em !important;
      vertical-align: -0.15em;
    }
}

/* ============ 3) 菜单 iconfont 图标尺寸（给 menu_icons_injector.js 用） ============ */
#nav .menus_items svg.menu-svg-icon {
    width: 1.2em;
    height: 1.2em;
    vertical-align: -0.18em;
    overflow: hidden;
    flex: 0 0 auto;
    margin-right: .28em;
}

/* 让菜单链接内图标+文字对齐 */
#nav .menus_items .menus_item > a,
#nav .menus_items .menus_item_child a {
    display: inline-flex;
    align-items: center;
}

/* ============ 4) 右侧工具区图标尺寸统一 ============ */
#nav #menus .nav-right-tools a {
    display: inline-flex;
    align-items: center;
    padding: 0 .2rem;
}

#nav #menus .nav-right-tools svg.menu-svg-icon {
    width: 1.25em;
    height: 1.25em;
    vertical-align: -0.15em;
    overflow: hidden;
}

/* ============ 5) 修复：搜索按钮被主题伪元素/样式撑大 ============ */
#nav #search-button,
#nav #search-button .site-page.social-icon.search {
    display: inline-flex !important;
    align-items: center;
    width: auto !important;
    height: auto !important;
    padding: 0 !important;
    margin: 0 !important;
    background: none !important;
    box-shadow: none !important;
}

/* 关掉伪元素横线/背景 */
#nav #search-button::before,
#nav #search-button::after,
#nav #search-button a.search::before,
#nav #search-button a.search::after,
#nav #search-button .search::before,
#nav #search-button .search::after,
#nav #search-button .site-page.social-icon.search::before,
#nav #search-button .site-page.social-icon.search::after {
    content: none !important;
    display: none !important;
}

/* 搜索按钮 svg 尺寸 */
#nav #search-button svg.menu-svg-icon {
    width: 1.25em !important;
    height: 1.25em !important;
    vertical-align: -0.15em;
}
